import{a as R}from"./chunk-TD6TFZ7C.js";import{e as ee}from"./chunk-E432CZAM.js";import{D as O,E as $,F as P,G,H as U,I as _,L as q,M as V,N as v,O as B,P as L,Q as H,R as I,T as z,U as J,V as K,W as Q,c as T,ca as W,ga as X,ha as Y,ia as Z,k,u as x,v as E}from"./chunk-IN42GRYJ.js";import{Ab as C,Jb as d,Tb as m,V as p,Xa as c,Xb as j,Ya as s,aa as A,ba as h,fa as N,j as f,la as b,ma as g,nb as w,o as M,pb as l,yb as r,zb as n}from"./chunk-A5NZFVX5.js";var D=function(t){return t[t.None=0]="None",t[t.Salary=1]="Salary",t}(D||{});var S=(()=>{let e=class e{constructor(i){this.http=i,this.baseApiUrl=R.apiUrl+"/api/incomes"}add(i){return this.http.post(this.baseApiUrl,i)}getAll(){return this.http.get(this.baseApiUrl)}getIncomesByPeriod(i){return M([])}};e.\u0275fac=function(o){return new(o||e)(N(k))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ie=(()=>{let e=class e{constructor(i,o,a){this.incomeService=i,this.dialogRef=o,this.data=a,this.incomeType=D,this.$unsubscribe=new f}ngOnInit(){this.addIncomeForm=new H({Amount:new I(0,[v.required]),Type:new I(this.incomeType.Salary,[v.required]),Purpose:new I("",[v.required])})}ngOnDestroy(){this.$unsubscribe.next(),this.$unsubscribe.complete()}addNewIncome(){let i={capitalId:this.data,amount:this.addIncomeForm.value.Amount,type:this.addIncomeForm.value.Type,purpose:this.addIncomeForm.value.Purpose};this.incomeService.add(i).pipe(p(this.$unsubscribe)).subscribe({next:()=>this.close(!0),error:()=>this.close(!1)})}close(i){this.dialogRef.close(i)}};e.\u0275fac=function(o){return new(o||e)(s(S),s(O),s($))},e.\u0275cmp=b({type:e,selectors:[["app-income-dialog"]],decls:23,vars:3,consts:[[3,"formGroup"],["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-content"],["matInput","","placeholder","Amount","type","number","formControlName","Amount"],["matInput","","placeholder","Purpose","type","text","formControlName","Purpose"],["formControlName","Type"],[3,"value"],["mat-dialog-actions",""],["mat-button","",3,"click","disabled"],["mat-button","",3,"click"]],template:function(o,a){o&1&&(r(0,"form",0)(1,"h1",1),m(2,"Add"),n(),r(3,"div",2)(4,"mat-form-field")(5,"mat-label"),m(6,"Amount"),n(),C(7,"input",3),n(),r(8,"mat-form-field")(9,"mat-label"),m(10,"Purpose"),n(),C(11,"input",4),n(),r(12,"mat-form-field")(13,"mat-label"),m(14,"Type"),n(),r(15,"mat-select",5)(16,"mat-option",6),m(17,"Salary"),n()()()(),r(18,"div",7)(19,"button",8),d("click",function(){return a.addNewIncome()}),m(20,"Save"),n(),r(21,"button",9),d("click",function(){return a.close(!1)}),m(22,"Close"),n()()()),o&2&&(l("formGroup",a.addIncomeForm),c(16),l("value",a.incomeType.Salary),c(3),l("disabled",!a.addIncomeForm.valid))},dependencies:[q,X,W,Y,E,Z,G,_,U,z,V,J,B,L,K,Q],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}"]});let t=e;return t})();function me(t,e){if(t&1&&(r(0,"div"),m(1),n()),t&2){let u=e.$implicit;c(),j(" ",u.id," ",u.amount," ",u.capitalId," ",u.purpose,`
`)}}var oe=(()=>{let e=class e{constructor(i,o){this.incomeService=i,this.dialog=o,this.unsubcribe$=new f}ngOnInit(){this.executeIncomes()}ngOnDestroy(){this.unsubcribe$.next(),this.unsubcribe$.complete()}openIncomeDialog(){this.dialog.open(ie).afterClosed().pipe(p(this.unsubcribe$)).subscribe({next:o=>{o&&this.executeIncomes()}})}executeIncomes(){this.incomeService.getAll().pipe(p(this.unsubcribe$)).subscribe({next:i=>this.incomes=i})}};e.\u0275fac=function(o){return new(o||e)(s(S),s(P))},e.\u0275cmp=b({type:e,selectors:[["app-income"]],decls:5,vars:1,consts:[[3,"click"],[4,"ngFor","ngForOf"]],template:function(o,a){o&1&&(r(0,"p"),m(1,"income works!"),n(),r(2,"button",0),d("click",function(){return a.openIncomeDialog()}),m(3,"Add income"),n(),w(4,me,2,4,"div",1)),o&2&&(c(4),l("ngForOf",a.incomes))},dependencies:[T]});let t=e;return t})();var ae=[{path:"",component:oe}],ne=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({imports:[x.forChild(ae),x]});let t=e;return t})();var Pe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({imports:[ne,ee]});let t=e;return t})();export{Pe as IncomeModule};
