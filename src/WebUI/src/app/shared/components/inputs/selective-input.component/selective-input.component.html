<div class="relative w-full">
  <div
    class="flex flex-wrap gap-2 border rounded px-3 py-2 text-sm border-black"
  >
    @for (tagName of selectedTags; track tagName) {
      <span class="flex items-center bg-blue-100 text-blue-700 px-3 py-1 rounded-full">
        {{ tagName }}
        <button class="ml-1 hover:text-red-500" (click)="removeTag(tagName)">&times;</button>
      </span>
    }

    <input
      type="text"
      [formControl]="inputCtrl"
      [placeholder]="placeholder"
      (focus)="onFocus()"
      (blur)="onBlur()"
      (keydown)="addFromInput($event)"
      class="flex-1 outline-none"
      autocomplete="off"
    />
  </div>

  @if (showDropdown && filteredSuggestions.length) {
    <ul class="absolute z-10 mt-1 w-full bg-white border rounded shadow-md">
      @for (tag of filteredSuggestions; track tag.tagId) {
        <li
          class="px-3 py-2 hover:bg-blue-50 cursor-pointer"
          (mousedown)="onSelectSuggestion(tag)"
        >
          {{ tag.name }}
        </li>
      }
    </ul>
  }
</div>
