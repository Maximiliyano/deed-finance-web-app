<div class="flex flex-col gap-4 h-96 border rounded p-2">
  @if (categories.length > 0) {
    <div class="overflow-y-auto h-80">
      @for (category of categories; track category.id) {
        <div class="flex justify-between p-2 border-b hover:bg-gray-100">
          @if (!isEditModeEnabled) {
            <span>{{ category.name }}</span>
            <span>{{ category.periodAmount }}</span>
            <span>{{ category.periodType }}</span>
          }
          @else {
            <input type="text" [(ngModel)]="category.name" class="border rounded p-1" />
            <input type="number" [(ngModel)]="category.periodAmount" class="border rounded p-1" />
            <select [(ngModel)]="category.periodType">
              <option value="None">None</option>
              <option value="None">Per Month</option>
              <option value="None">Per Week</option>
              <option value="None">Per Year</option>
            </select>
            <button (click)="removeCategory(category.id)" class="text-red-500 hover:text-red-700">X</button>
          }
        </div>
      }
    </div>
  
    <div class="flex justify-between">
      @if (!isEditModeEnabled) {
        <button class="ml-2 text-blue-500 hover:text-blue-700" (click)="addNewCategory()">
          New
          <app-icon name="fa-circle-plus"></app-icon>
        </button>
  
        <button class="ml-2 text-blue-500 hover:text-blue-700" (click)="isEditModeEnabled = true">
          Edit all
          <app-icon name="fa-pen"></app-icon>
        </button>
      }
      @else {
        <button class="ml-2 text-green-500 hover:text-green-700" (click)="editAllCategories()">Save</button>
        <button class="ml-2 text-red-500 hover:text-red-500" (click)="isEditModeEnabled = false">Cancel</button>
      }
    </div>
  }
  @else {
    <div class="text-gray-500">
      No categories found. Create one...
      <button class="ml-2 text-blue-500 hover:text-blue-700">
        <app-icon name="fa-circle-plus"></app-icon>
      </button>
    </div>
  }
</div>
