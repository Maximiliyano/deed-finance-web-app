<div class="expense-header">
  <div class="capital-select">
    <mat-icon>account_balance_wallet</mat-icon>
    <select [ngModel]="capital" (ngModelChange)="onCapitalChange($event)">
      <option [value]="null">All</option>
      <option *ngFor="let capital of capitals" [ngValue]="capital">
        {{capital.name}}
      </option>
    </select>
  </div>

  <div class="capital-totalExpense">
    <span>{{ capital?.balance ?? totalCapitalsBalance | currency: symbol(capital?.currency ?? defaultCurrency) }}</span>
  </div>
</div>

<div class="expense-content">
  <div class="period-tab-menu">
    <ul class="per-tabs">
      <li *ngFor="let period of periods"
          [ngClass]="{ 'active': period == selectedPeriod}"
          class="per-tab"
          (click)="selectTab(period)">
        {{ period }}
      </li>
    </ul>

    <div class="per-tab-time-selector">
      <p>
        <span *ngIf="startDate && endDate && (!allTime || selectedPeriod !== Periods.Custom)">
          {{ startDate | date }} - {{ endDate | date }}
        </span>

        <span *ngIf="allTime && selectedPeriod == Periods.Custom">
          All time
        </span>
      </p>
    </div>
  </div>

  <div
    class="expense"
    *ngIf="capital?.totalExpense ?? totalExpense !== 0; else noExpenses"
  >
    <span class="expense-amount">{{capital?.totalExpense ?? totalExpense}}</span>

    <button class="add-expense" (click)="openDialogAddExpense()">
      <mat-icon>add_circle</mat-icon>
    </button>
  </div>

  <div
    class="categories"
    *ngFor="let category of categories"
  >
    <br />
    <p>CategoryName: {{category.name}}</p>
    <br />
    <p>Total expense by category: {{0}}</p>
  </div>

  <ng-template #noExpenses>
    <p>There was no expenses found.</p>
  </ng-template>
</div>


